# Магазин продовольственных товаров

Fullstack-приложение для магазина продовольственных товаров.

## Стек технологий

- Frontend: React.js
- Backend: Node.js
- Database: PostgreSQL

## Описание предметной области

В магазин от поставщиков приходят товары, характеризаующиеся категорией (макаронные изделия, овощи и т.п.), названием товара, индексом товара, стоимостью за единицу товара, единицами измерения (шт, кг, литр и т.п.), весом, датой поставки, количеством поступившего товара, сроком реализации. Для скоропортящегося товара в срок релизации включается время. Поставщики, в свою очередь, предоставляют магазину информацию о себе: название компании, адрес, контактный телефон. Реализация товара осуществляется оптом и в розницу. Постоянные клиенты могут осуществлять предварительный заказ товара оптом, при этом клиент получает счет-фактуру с информацией по заказанному товару и стоимостью. Остаток товара в магазине после реализации не может быть больше количества поступившего товара. Товар, срок реализации которого истек, не может быть продан и должен быть списан.

## Постановка задачи

### Серверная часть

1. Создать базу данных в соответствии с предметной областью. Определить необходимые отношения, ограничения для полей. Установить связи для поддержки ссылочной целостности.
2. Создать триггеры:
    - для формирования значений первичных ключей.
    - для запрета удаления постоянного клиента в том случае, если для него имеется хотя бы один не выполненный заказ.
    - для формирования таблицы-журнала, хранящей сведения о товарах, срок реализации которых заканчивается на следующий день по отношению к текущей дате
3. Создать пакет, содержащий следующие функции и процедуры:
    - Функция, возвращающая строку "закончился срок реализации", если дата поставки плюс срок реализации больше текущей даты.
    - Функция, возвращающая количество часов, оставшихся до завершения срока реализации скоропортящегося товара.
    - Процедура, изменяющая цену товара, если до завершения срока реализации осталось менее 3-х часов для скоропортящегося товара и менее одного дня для всех остальных. Цена уменьшается на 20%, но не более чем на 50 рублей. Использовать предыдущую функцию.
    - Функция, приводящая строку к формату телефонного номера: '_ - _ _ _ - _ _ _ - _ _ - _ _'. Исходная строка может содержать от 0 до 3 дефисов, например: 1234567, 123-4567 или 123-45-67. Если строка содержит 7 цифр, то функция должна разделить их двумя дефисами; если в строке 10 цифр, то еще добавить в начало '8-'; если 11 цифр – привести к указанному формату.

### Клиентская часть

1. Создать Web – приложение, которое будет взаимодействовать с серверной частью. Web-приложение должно содержать форму авторизации для ввода логина и пароля. Все комбинации логин и пароль необходимо хранить в отдельной таблице БД. При вводе логина и пароля осуществлять процедуру аутентификации и в случае успеха, открывать главную интерфейсную форму с меню для перехода на другие формы приложения. В приложении реализовать две роли: администратор, оператор. Самостоятельно определить набор функций для каждой роли. Администратор может добавлять новых пользователей - операторов.
2. Создать интерфейсные формы для возможности добавления, просмотра и редактирования данных таблиц.
3. Создать интерфейсные формы для возможности выполнения и просмотра результатов функций и процедур серверной части (при необходимости).
4. Реализовать необходимые расчеты, согласно выданному заданию.
5. Создать интерфейсные формы для выполнения запросов:
    - список товаров, чей остаток меньше установленного минимума;
    - вывести список поставщиков, чьи товары в данное время есть в магазине..
6. Спроектировать и создать выходной документ: список товаров с их общим количеством, старой и новой ценой (для скоропортящихся товаров) по категориям